{"ast":null,"code":"/* eslint-env browser */\n\n/**\n * Isomorphic variable storage.\n *\n * Uses LocalStorage in the browser and falls back to in-memory storage.\n *\n * @module storage\n */\n\n/* c8 ignore start */\nclass VarStoragePolyfill {\n  constructor() {\n    this.map = new Map();\n  }\n\n  /**\n   * @param {string} key\n   * @param {any} newValue\n   */\n  setItem(key, newValue) {\n    this.map.set(key, newValue);\n  }\n\n  /**\n   * @param {string} key\n   */\n  getItem(key) {\n    return this.map.get(key);\n  }\n}\n/* c8 ignore stop */\n\n/**\n * @type {any}\n */\nlet _localStorage = new VarStoragePolyfill();\nlet usePolyfill = true;\n\n/* c8 ignore start */\ntry {\n  // if the same-origin rule is violated, accessing localStorage might thrown an error\n  if (typeof localStorage !== 'undefined' && localStorage) {\n    _localStorage = localStorage;\n    usePolyfill = false;\n  }\n} catch (e) {}\n/* c8 ignore stop */\n\n/**\n * This is basically localStorage in browser, or a polyfill in nodejs\n */\n/* c8 ignore next */\nexport const varStorage = _localStorage;\n\n/**\n * A polyfill for `addEventListener('storage', event => {..})` that does nothing if the polyfill is being used.\n *\n * @param {function({ key: string, newValue: string, oldValue: string }): void} eventHandler\n * @function\n */\n/* c8 ignore next */\nexport const onChange = eventHandler => usePolyfill || addEventListener('storage', /** @type {any} */eventHandler);\n\n/**\n * A polyfill for `removeEventListener('storage', event => {..})` that does nothing if the polyfill is being used.\n *\n * @param {function({ key: string, newValue: string, oldValue: string }): void} eventHandler\n * @function\n */\n/* c8 ignore next */\nexport const offChange = eventHandler => usePolyfill || removeEventListener('storage', /** @type {any} */eventHandler);","map":{"version":3,"names":["VarStoragePolyfill","constructor","map","Map","setItem","key","newValue","set","getItem","get","_localStorage","usePolyfill","localStorage","e","varStorage","onChange","eventHandler","addEventListener","offChange","removeEventListener"],"sources":["/Users/dheerajkumar/Desktop/Collaborative_Editor/client/node_modules/lib0/storage.js"],"sourcesContent":["/* eslint-env browser */\n\n/**\n * Isomorphic variable storage.\n *\n * Uses LocalStorage in the browser and falls back to in-memory storage.\n *\n * @module storage\n */\n\n/* c8 ignore start */\nclass VarStoragePolyfill {\n  constructor () {\n    this.map = new Map()\n  }\n\n  /**\n   * @param {string} key\n   * @param {any} newValue\n   */\n  setItem (key, newValue) {\n    this.map.set(key, newValue)\n  }\n\n  /**\n   * @param {string} key\n   */\n  getItem (key) {\n    return this.map.get(key)\n  }\n}\n/* c8 ignore stop */\n\n/**\n * @type {any}\n */\nlet _localStorage = new VarStoragePolyfill()\nlet usePolyfill = true\n\n/* c8 ignore start */\ntry {\n  // if the same-origin rule is violated, accessing localStorage might thrown an error\n  if (typeof localStorage !== 'undefined' && localStorage) {\n    _localStorage = localStorage\n    usePolyfill = false\n  }\n} catch (e) { }\n/* c8 ignore stop */\n\n/**\n * This is basically localStorage in browser, or a polyfill in nodejs\n */\n/* c8 ignore next */\nexport const varStorage = _localStorage\n\n/**\n * A polyfill for `addEventListener('storage', event => {..})` that does nothing if the polyfill is being used.\n *\n * @param {function({ key: string, newValue: string, oldValue: string }): void} eventHandler\n * @function\n */\n/* c8 ignore next */\nexport const onChange = eventHandler => usePolyfill || addEventListener('storage', /** @type {any} */ (eventHandler))\n\n/**\n * A polyfill for `removeEventListener('storage', event => {..})` that does nothing if the polyfill is being used.\n *\n * @param {function({ key: string, newValue: string, oldValue: string }): void} eventHandler\n * @function\n */\n/* c8 ignore next */\nexport const offChange = eventHandler => usePolyfill || removeEventListener('storage', /** @type {any} */ (eventHandler))\n"],"mappings":"AAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAMA,kBAAkB,CAAC;EACvBC,WAAWA,CAAA,EAAI;IACb,IAAI,CAACC,GAAG,GAAG,IAAIC,GAAG,CAAC,CAAC;EACtB;;EAEA;AACF;AACA;AACA;EACEC,OAAOA,CAAEC,GAAG,EAAEC,QAAQ,EAAE;IACtB,IAAI,CAACJ,GAAG,CAACK,GAAG,CAACF,GAAG,EAAEC,QAAQ,CAAC;EAC7B;;EAEA;AACF;AACA;EACEE,OAAOA,CAAEH,GAAG,EAAE;IACZ,OAAO,IAAI,CAACH,GAAG,CAACO,GAAG,CAACJ,GAAG,CAAC;EAC1B;AACF;AACA;;AAEA;AACA;AACA;AACA,IAAIK,aAAa,GAAG,IAAIV,kBAAkB,CAAC,CAAC;AAC5C,IAAIW,WAAW,GAAG,IAAI;;AAEtB;AACA,IAAI;EACF;EACA,IAAI,OAAOC,YAAY,KAAK,WAAW,IAAIA,YAAY,EAAE;IACvDF,aAAa,GAAGE,YAAY;IAC5BD,WAAW,GAAG,KAAK;EACrB;AACF,CAAC,CAAC,OAAOE,CAAC,EAAE,CAAE;AACd;;AAEA;AACA;AACA;AACA;AACA,OAAO,MAAMC,UAAU,GAAGJ,aAAa;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMK,QAAQ,GAAGC,YAAY,IAAIL,WAAW,IAAIM,gBAAgB,CAAC,SAAS,EAAE,kBAAoBD,YAAa,CAAC;;AAErH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAME,SAAS,GAAGF,YAAY,IAAIL,WAAW,IAAIQ,mBAAmB,CAAC,SAAS,EAAE,kBAAoBH,YAAa,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}